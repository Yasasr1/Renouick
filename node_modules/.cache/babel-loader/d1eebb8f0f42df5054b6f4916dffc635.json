{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Thisara\\\\Documents\\\\renouick\\\\Renouick\\\\src\\\\components\\\\LoginPage\\\\LoginPage.js\";\nimport { Component } from 'react';\nimport React from 'react';\nimport './LoginPage.css';\nimport Typography from '@material-ui/core/Typography';\nimport AccountBoxRoundedIcon from '@material-ui/icons/AccountBoxRounded';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nclass LoginPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: '',\n      password: '',\n      error: false\n    };\n\n    this.inputHandler = event => {\n      let updatedState = {\n        [event.target.id]: event.target.value\n      };\n      this.setState(updatedState);\n    };\n\n    this.submitHandler = event => {\n      let email = this.state.email;\n      let password = this.state.password;\n      let receivedpassword = '';\n      let error = false;\n      axios.get('http://localhost:4000/reno/login/' + email).then(responce => {\n        if (responce.data) {\n          receivedpassword = responce.data.password;\n        }\n\n        if (password === receivedpassword) {\n          console.log('logged in');\n          error = false;\n        } else {\n          console.log('username or password incorrect');\n          error = true;\n        }\n\n        this.setState({\n          error: error\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n  }\n\n  render() {\n    let message = null;\n\n    if (this.state.error) {\n      message = React.createElement(\"p\", {\n        style: {\n          color: 'red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \"*Email or password is incorrect\");\n    }\n\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"LoginPageLeft\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"LoginPageRight\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(AccountBoxRoundedIcon, {\n      style: {\n        fontSize: '80px',\n        color: 'orange'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(Typography, {\n      component: \"h1\",\n      variant: \"h5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Sign in\"), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      variant: \"outlined\",\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      id: \"email\",\n      label: \"Email Address\",\n      name: \"email\",\n      autoComplete: \"email\",\n      autoFocus: true,\n      onChange: this.inputHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      variant: \"outlined\",\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      name: \"password\",\n      label: \"Password\",\n      type: \"password\",\n      id: \"password\",\n      autoComplete: \"current-password\",\n      onChange: this.inputHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), message, React.createElement(Button, {\n      fullWidth: true,\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: this.submitHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Sign In\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"text-muted\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Don't have an account?\"), React.createElement(Link, {\n      to: \"/customer_reg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Register as a customer\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), React.createElement(Link, {\n      to: \"/worker_reg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Register as a worker\"))));\n  }\n\n}\n\nexport default LoginPage;","map":{"version":3,"sources":["C:\\Users\\Thisara\\Documents\\renouick\\Renouick\\src\\components\\LoginPage\\LoginPage.js"],"names":["Component","React","Typography","AccountBoxRoundedIcon","TextField","Button","Link","axios","LoginPage","state","email","password","error","inputHandler","event","updatedState","target","id","value","setState","submitHandler","receivedpassword","get","then","responce","data","console","log","catch","err","render","message","color","fontSize"],"mappings":"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","sourcesContent":["import { Component } from 'react';\r\nimport React from 'react';\r\nimport './LoginPage.css';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport AccountBoxRoundedIcon from '@material-ui/icons/AccountBoxRounded';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\n\r\n\r\n\r\nclass LoginPage extends Component  {\r\n    state = {\r\n        email: '',\r\n        password: '',\r\n        error: false\r\n    };\r\n\r\n    inputHandler = (event) => {\r\n        let updatedState = {\r\n            [event.target.id]: event.target.value\r\n        };\r\n\r\n        this.setState(updatedState);\r\n    };\r\n\r\n    submitHandler = (event) => {\r\n        let email = this.state.email;\r\n        let password = this.state.password;\r\n        let receivedpassword = '';\r\n        let error = false;\r\n\r\n        axios.get('http://localhost:4000/reno/login/' + email)\r\n        .then(responce => {\r\n            if(responce.data) {\r\n                receivedpassword = responce.data.password;\r\n            }\r\n            \r\n            if(password === receivedpassword) {\r\n                console.log('logged in');\r\n                error = false;\r\n            }\r\n            else {\r\n                console.log('username or password incorrect');\r\n                error = true;\r\n            }\r\n\r\n            this.setState({error: error});\r\n        })\r\n        .catch( err => {\r\n            console.log(err);\r\n        })\r\n\r\n        \r\n\r\n\r\n    };\r\n   \r\n    render() {\r\n        let message = null;\r\n        if(this.state.error) {\r\n            message = <p style={{color: 'red'}}>*Email or password is incorrect</p>\r\n        }\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"LoginPageLeft\">\r\n                </div>\r\n                <div className=\"LoginPageRight\">\r\n                <AccountBoxRoundedIcon style={{fontSize: '80px', color: 'orange'}} />\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                     Sign in\r\n                </Typography>\r\n                <form>\r\n                    <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    required\r\n                    fullWidth\r\n                    id=\"email\"\r\n                    label=\"Email Address\"\r\n                    name=\"email\"\r\n                    autoComplete=\"email\"\r\n                    autoFocus\r\n                    onChange={this.inputHandler}\r\n                    />\r\n\r\n                    <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    required\r\n                    fullWidth\r\n                    name=\"password\"\r\n                    label=\"Password\"\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    autoComplete=\"current-password\"\r\n                    onChange={this.inputHandler}\r\n                    />\r\n\r\n                    <br/>\r\n                    <br/>\r\n                    {message}\r\n                    <Button\r\n                    fullWidth\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={this.submitHandler}\r\n                    >\r\n                        Sign In\r\n                    </Button>\r\n                    <br/>\r\n                    <br/>\r\n                    <p className=\"text-muted\">Don't have an account?</p>\r\n                    <Link to=\"/customer_reg\">Register as a customer</Link>\r\n                    <br/>\r\n                    <Link to=\"/worker_reg\">Register as a worker</Link>\r\n                </form>\r\n                </div>\r\n            </React.Fragment>\r\n            \r\n            \r\n        );\r\n    }\r\n \r\n}\r\n\r\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}